{% extends "base.html" %}
{% load static %}

{% block content %}
  <h2>Dejá tu reseña</h2>

  <form method="post">
    {% csrf_token %}
    {{ form.comment.label_tag }}<br>
    {{ form.comment }}<br><br>

    {{ form.rating.label_tag }}<br>
    <div class="rating-input" title="Seleccioná una puntuación del 1 al 5">
      {% for i in "54321" %}
        <input type="radio" name="rating" value="{{ i }}" id="rating{{ i }}" {% if form.rating.value|stringformat:"s" == i %}checked{% endif %}>
        <label for="rating{{ i }}">☕</label>
      {% endfor %}
    </div>

    <br>
    <button type="submit">Enviar</button>
  </form>

  <p><a href="{% url 'review_list' %}">Volver al listado</a></p>

  <style>
    .rating-input {
      display: flex;
      flex-direction: row-reverse;
      justify-content: flex-start;
      gap: 0.3rem;
      font-size: 2rem;
    }

    .rating-input input[type="radio"] {
      display: none;
    }

    .rating-input label {
      color: #ccc;
      cursor: pointer;
      transition: color 0.2s;
    }

    .rating-input input[type="radio"]:checked ~ label,
    .rating-input label:hover,
    .rating-input label:hover ~ label {
      color: #c47f00;
    }
  </style>
{% endblock %}
