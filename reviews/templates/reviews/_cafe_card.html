{# reviews/templates/reviews/_cafe_card.html #}
<div class="relative bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 flex flex-col justify-between h-full min-h-[400px]">
  {% if cafe.id in favoritos_ids %}
    <span class="absolute top-2 right-2 text-red-500 text-xl animate-fade-in z-10">❤️</span>
  {% endif %}

  {% if cafe.photo1 %}
    <img src="{{ cafe.photo1.url }}" alt="Foto de {{ cafe.name }}"
    class="w-full h-52 aspect-[4/3] object-cover rounded-lg mb-4 transition-transform duration-300 transform hover:scale-105 hover:shadow-lg hover:opacity-90">
  {% else %}
    <div class="w-full h-52 bg-gray-200 flex items-center justify-center rounded-lg mb-4 text-gray-500 text-3xl">
      📷
    </div>
  {% endif %}

  <div class="flex-grow flex flex-col justify-between">
    <div>
      <h2 class="text-xl font-semibold flex items-center">
        {{ cafe.name }}
        <span class="ml-2 text-sm text-gray-500">({{ cafe.location }})</span>
      </h2>
      <p class="text-sm text-gray-600 mb-1">📍 {{ cafe.address }}</p>
      <p class="text-sm">☕ {{ cafe.average_rating|floatformat:1 }}</p>
    </div>

    <div class="mt-4">
      <a href="{% url 'cafe_detail' cafe.id %}" class="inline-block text-blue-600 hover:underline text-sm font-medium">Ver detalles</a>
    </div>
  </div>
</div>
