{% extends "base.html" %}

{% block content %}
  <h1>Panel de dueÃ±o de cafeterÃ­as</h1>

  <p><a href="{% url 'create_cafe' %}">â• Agregar nueva cafeterÃ­a</a></p>

  {% if cafes %}
    <ul>
      {% for cafe in cafes %}
        <li style="margin-bottom: 1.5rem;">
          <strong>{{ cafe.name }}</strong> ({{ cafe.location }})<br>
          ğŸ“ {{ cafe.address }}<br>
          â­ Promedio: {{ cafe.average_rating|default:"Sin puntuar" }}<br>
          ğŸ§¾ ReseÃ±as: {{ cafe.total_reviews }}<br>

          <a href="{% url 'cafe_detail' cafe.id %}">ğŸ” Ver detalles</a> |
          <a href="{% url 'edit_cafe' cafe.id %}">âœï¸ Editar</a> |
          <form action="{% url 'delete_cafe' cafe.id %}" method="post" style="display:inline;">
            {% csrf_token %}
            <button type="submit" onclick="return confirm('Â¿EstÃ¡s seguro de eliminar esta cafeterÃ­a?')" style="background:none;border:none;color:blue;cursor:pointer;">ğŸ—‘ï¸ Eliminar</button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No tenÃ©s cafeterÃ­as registradas todavÃ­a.</p>
  {% endif %}
{% endblock %}
