{% extends "base.html" %}
{% load i18n %}

{% block content %}
<div class="max-w-lg mx-auto mt-12 bg-white p-6 rounded-lg shadow-lg">
  {% if confirmation %}
    <h1 class="text-2xl font-bold mb-4 text-center">{% trans "Confirmar email" %}</h1>

    {% with email=confirmation.email_address.email user_obj=confirmation.email_address.user %}
      <p class="text-gray-700 text-center mb-6">
        {% blocktrans with email=email %}
          Estás por confirmar la dirección <strong>{{ email }}</strong>.
        {% endblocktrans %}
      </p>
    {% endwith %}

    <form method="post" action="{% url 'account_confirm_email' confirmation.key %}" class="text-center">
      {% csrf_token %}
      <button type="submit"
              class="inline-flex items-center justify-center px-5 py-2 rounded-md bg-blue-600 text-white font-semibold hover:bg-blue-700 transition">
        {% trans "Confirmar" %}
      </button>
    </form>

    <p class="text-sm text-center text-gray-500 mt-4">
      <a href="{% url 'account_login' %}" class="text-blue-600 hover:underline">{% trans "Volver a iniciar sesión" %}</a>
    </p>

  {% else %}
    <h1 class="text-2xl font-bold mb-4 text-center">{% trans "Enlace inválido o expirado" %}</h1>
    <p class="text-gray-700 text-center">
      {% trans "El enlace de verificación ya no es válido. Podés solicitar uno nuevo desde tu configuración de email." %}
    </p>
    <div class="text-center mt-6">
      <a href="{% url 'account_email' %}"
         class="inline-flex items-center justify-center px-5 py-2 rounded-md border border-gray-300 hover:bg-gray-50 transition">
        {% trans "Administrar emails / reenviar verificación" %}
      </a>
    </div>
  {% endif %}
</div>
{% endblock %}
